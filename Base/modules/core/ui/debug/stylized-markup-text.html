<head>
	<meta charset="UTF-8" />
	<meta
		name="viewport"
		content="width=device-width, initial-scale=1.0"
	/>
	<title>Stylized Markup Text</title>
	<link
		rel="stylesheet"
		href="fs://game/core/ui/themes/default/default.css"
	/>
	<script src="fs://game/core/ui/cohtml.js"></script>

	<!-- Ideally, these scripts will be nested inside of the body tag.-->
	<style>
		:root {
			font-size: 16pt;
			font-family: "BodyFont", "BodyFont-JP", "BodyFont-KR", "BodyFont-SC", "BodyFont-TC";

			--color-accent: #ff8a65;
			--color-primary: #ff5722;
			--color-background: #bdbdbd;
			--color-surface: #fbe9e7;

			--text-color: #000000;
			--text-color-low-contrast: #1f1f1f;
		}

		.title-bar {
			background-color: var(--color-primary);
			padding: 1.5rem;
		}

		.title-bar > .title {
			font-size: 1.5rem;
		}

		body {
			color: var(--text-color);
			display: flex;
			flex-direction: column;
			align-items: stretch;
			margin: 0;
			width: 100vw;
			height: 100vh;
			background-color: var(--color-background);
		}

		.background {
			padding: 1.5rem;
			display: flex;
			flex-direction: row;
			justify-content: center;
		}

		.window {
			display: flex;
			flex: 0 1 auto;
			flex-direction: column;
			justify-content: flex-start;
			align-items: stretch;
			margin: 0.625rem;
			border-radius: 0 0 8px 8px;
			border-color: #ff8a65;
			border-style: solid;
			border-width: 4px;
			background-color: var(--color-surface);
		}

		.window > .header {
			font-size: 1.32rem;
			background-color: var(--color-accent);
			padding: 0.32rem;
		}

		.window > .content {
			display: flex;
			flex-direction: column;
			padding: 0.625rem;
			flex: 0 1 auto;
			resize: none;
			width: 45vw;
			min-height: 20vh;
			font-size: 16pt;
			font-family: "BodyFont", "BodyFont-JP", "BodyFont-KR", "BodyFont-SC", "BodyFont-TC";
		}

		#editor {
			height: 45vh;
			background-color: var(--color-surface);
			border-style: none;
			font-size: 16pt;
			font-family: "BodyFont", "BodyFont-JP", "BodyFont-KR", "BodyFont-SC", "BodyFont-TC";
		}

		p.indent-1 {
			margin-right: 3rem;
		}

		p {
			padding: initial;
		}
	</style>
  <script async type="module" crossorigin src="fs://game/core/ui/debug/stylized-markup-text.js"></script>
</head>

<body>
	<script src="fs://game/core/ui/component-support.js"></script>

	<div class="title-bar">
		<div class="title">Stylized Markup Text</div>
	</div>
	<div class="background">
		<div class="window">
			<div class="header">Editor</div>
			<textarea
				id="editor"
				class="content"
			>
Use the editor to type in text.</textarea
			>
		</div>
		<div class="preview">
			<div class="window">
				<div class="header">Output</div>
				<div
					id="output"
					class="content"
				></div>
			</div>
			<div class="window">
				<div class="header">HTML</div>
				<div
					id="raw-output"
					class="content"
				></div>
			</div>
		</div>
	</div>
	<script>
		const inputElement = document.querySelector("#editor");
		const outputElement = document.querySelector("#output");
		const rawOutputElement = document.querySelector("#raw-output");
		inputElement.addEventListener("click", (event) => {
			event.target.focus();
			event.target.select();
		});

		inputElement.addEventListener("input", (event) => {
			const text = event.target.value;
			const output = Locale.stylize(text);
			outputElement.innerHTML = output;
			rawOutputElement.textContent = output;
		});
	</script>
</body>
